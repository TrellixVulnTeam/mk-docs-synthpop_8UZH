<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Set Data Sources - Synthpop</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../../css/theme.css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Set Data Sources";
    var mkdocs_page_input_path = "GS/run-pipeline-1.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Synthpop</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Tutorial</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Installation/">Getting Started</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../configuration/">Configuration</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../../tutorial/usage/">Usage</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Generate Population</span></p>
                <ul class="current">
                    <li class="toctree-l1 current"><a class="reference internal current" href="#">Run Pipeline</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="./">Set Data Sources</a>
    <ul class="current">
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../run-pipeline-2/">Preprocess Data</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../run-pipeline-3/">IPU</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../run-pipeline-4/">Add Features to the Base Population</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../run-pipeline-5/">Results</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../run-pipeline-6/">Adding Optional Attributes to the Base Population</a>
                </li>
    </ul>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Files</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Docs</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../synthpop/">synthpop.py</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../IPU/">IPU.py</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../AHW/">age-height-weight.py</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../latlong/">HlatHlongaddition.py</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../Places/">places.py</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../PDS/">population_density_sampler.py</a>
                </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Synthpop</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Generate Population &raquo;</li>
        
      
        
          <li>Run Pipeline &raquo;</li>
        
      
    
    <li>Set Data Sources</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/sert121/mkdocs-synthpop/edit/master/docs/GS/run-pipeline-1.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h3 id="1-loading-the-data-from-ihds-and-census-survey-of-india">1. Loading the data from IHDS and Census survey of India</h3>
<pre><code class="language-python">householdh_marginal_filename = &quot;path_to_household_marginals&quot;
individuals_marginal_filename = &quot;path_to_individual_marginals&quot;

ihds_individuals_filename = &quot;path_to/36151-0001-Data.tsv&quot;
ihds_household_filename = &quot;path_to/36151-0002-Data.tsv&quot;
</code></pre>
<h3 id="2-geojson-spatial-data">2. Geojson Spatial Data</h3>
<p>Setting the data sources for geojson spatial data for wards.<br />
Current source: <a href="https://github.com/datameet/Municipal_Spatial_Data">[Municipal Spatial Data]</a>    <br />
This Repository will contain the spatial data of all the  Municipalities that has been scraped from their websites and other sources. Do note, that the wards in these datasets, are usually the Municipal wards, and not the Census wards.
Geojson ward names should match with the ward names in the <code>ward-wise population</code> file (See Next Steps), so that one can use it as a primary key. If they don't match please rename them accordingly.For example if the ward name in geojson is <code>Ward-1</code> and in population file is <code>Ward 1</code>, then rename it to <code>Ward-1</code> in the population file.</p>
<pre><code class="language-python"># Example geojson using Kolkata as the city
admin_units_geojson_filename = &quot;https://raw.githubusercontent.com/datameet/Municipal_Spatial_Data/master/Kolkata/kolkata.geojson&quot;
</code></pre>
<h3 id="3-loading-the-population-density-data">3. Loading the Population Density Data</h3>
<p>Current source for population density data: <a href="https://data.worldpop.org/GIS/Population_Density/Global_2000_2020_1km/2020/IND/ind_pd_2020_1km_ASCII_XYZ.zip">[Link]</a> [Note: Please unzip to access the <code>.csv</code> file]</p>
<pre><code class="language-python">population_density_filename = &quot;/path_to/ind_pd_2020_1km_ASCII_XYZ.csv&quot;
</code></pre>
<h3 id="4-loading-ward-wise-population">4. Loading ward wise population</h3>
<pre><code class="language-python">admin_units_population_filename=&quot;path_to_file&quot;
#after loading the data, one can specify the total population of each ward using column name TOT_P in their respective datadrames
</code></pre>
<p>Current Source for ward-wise population: <a href="https://censusindia.gov.in/pca/pcadata/pca.html">CensusGov</a></p>
<p>To get ward wise lat-long, one can use either of the following sources:</p>
<p><code>https://github.com/geopy/geopy</code><br />
<code>https://www.mapmyindia.com/api</code><br />
<code>https://developers.google.com/maps/documentation/geocoding/overview</code>  </p>
<p>Next we would  merge the ward-wise population with the lat-long data <em>(keeping Ward Name/no. as the unique key)</em>   </p>
<p><strong>Sample Format</strong>: </p>
<table>
<thead>
<tr>
<th>Ward</th>
<th>Latitude</th>
<th>Longitude</th>
<th>TOT_P</th>
</tr>
</thead>
<tbody>
<tr>
<td>Kolkata Ward 2</td>
<td>88.34</td>
<td>83.34</td>
<td>111000</td>
</tr>
<tr>
<td>Kolkata Ward 3</td>
<td>85.33</td>
<td>89.77</td>
<td>99991</td>
</tr>
</tbody>
</table>
<h3 id="5-setting-the-state-and-district-id">5. Setting the state and district ID</h3>
<p>State and district ID can be found out using Census MetaData found <a href="" title="https://censusindia.gov.in/2011census/Listofvillagesandtowns.aspx">[here]</a>.</p>
<pre><code class="language-python"># select state id
state_id = 19 # West Bengal

#Select distid within state
district_ids = [17] # Kolkata
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../run-pipeline-2/" class="btn btn-neutral float-right" title="Preprocess Data">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../tutorial/usage/" class="btn btn-neutral" title="Usage"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/sert121/mkdocs-synthpop/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../../tutorial/usage/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../run-pipeline-2/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
